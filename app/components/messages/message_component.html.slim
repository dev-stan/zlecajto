- is_current_user = message.user == current_user
div class="w-full mb-1 flex #{is_current_user ? 'justify-end' : 'justify-start'}"
  div class="flex gap-2"
    - if !is_current_user
      .flex-shrink-0.self-end
        = render Users::AvatarComponent.new(user: message.user, size: 'sm', current_user: current_user)
    .flex.flex-col.gap-1
      div class="rounded-3xl px-5 py-3" class=(is_current_user ? 'bg-blue-100 border-1 border-blue-300 text-gray-900' : 'bg-red text-gray-900 border border-gray-300')
        p.text-base.leading-relaxed.break-words.whitespace-normal = message.content
      span.text-xs.text-gray-400.px-2 class=(is_current_user ? 'text-right' : 'text-left') = message.created_at.strftime('%d.%m')
    - if is_current_user
      .flex-shrink-0.self-end
        = render Users::AvatarComponent.new(user: message.user, size: 'sm', current_user: current_user)